<% if user_signed_in? %>
<h1>ろぐいんしてる</h1>
<h4> メールアドレス： <%= current_user.email %> </h4>
<h4> ユーザー名： <%= current_user.name %> </h4>
<hr>

<div id="map-test01"></div>
<script src="http://maps.google.com/maps/api/js?key=<%= Constants::GOOGLE_API_KEY%>&language=ja"></script>
<script>



 var BaseLatLng = new google.maps.LatLng(gon.base.lat, gon.base.lng); //座標を指定

 var Options = {
 zoom: 16, //地図の縮尺値を指定
 center: BaseLatLng, //地図の中心座標
 mapTypeId: 'roadmap', //地図の種類を指定,
 mapTypeControl: false,
scaleControl: false,
disableDoubleClickZoom:false,
zoomControl:false,
scrollwheel:false
 };


 var map = new google.maps.Map(document.getElementById('map-test01'), Options); //埋め込むMAPのidを指定
 //マーカーの指定
var marker = new google.maps.Marker({
    position: BaseLatLng,
    map: map, 
    icon: 
      '	https://maps.google.com/mapfiles/ms/micons/green-dot.png',
});

let PlaceMarkers = [];
for(let i=0;i<gon.place_num;i++){

  let tmp = new google.maps.LatLng(gon.place_lat[i], gon.place_lng[i]);
  console.log(gon.place_lat[i]);
  PlaceMarkers[i] = new google.maps.Marker({
                    position: tmp,
                    map: map, 
                    icon: new google.maps.MarkerImage(
  'http://www.google.com/mapfiles/marker' +gon.A_Z_Char[i] + '.png',//マーカー画像URL
  new google.maps.Size(20, 34),//マーカーの表示サイズ（画像サイズに合わせる）
  new google.maps.Point(0, 0),//マーカー画像表示の起点（変更しない）
  new google.maps.Point(20, 34)//マーカー位置の調整（適時）
), 
                });
}



</script>

 

<%= render 'shard/shop_list' %>
<%= link_to "ログアウト", destroy_user_session_path, method: :delete %>
<% else %>
<h1>ようこそ</h1>
<p><a href="/users/sign_up " tabindex="-1" role="button" class="btn btn-primary btn-lg"        >アカウント登録</a></p>
<p><a href="/users/sign_in " tabindex="-1" role="button" class="btn btn-outline-primary btn-lg">ログイン</a></p>

<%end%>

